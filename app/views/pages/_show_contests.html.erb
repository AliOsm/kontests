<div class="<%= type %> bg-secondary">
  <% if contests.blank? %>
    <p class="lead text-center pt-3 pb-3 mb-0">There is no <%= type %> contests <%= emojify(emoji) %></p>
  <% else %>
    <p class="lead text-center pt-3 pb-3 mb-0"><%= [contests.size, type.capitalize, 'Contest'.pluralize(contests.size)].join(' ') %></p>
    
    <div class="table-responsive">
      <table class="table table-borderless table-hover mb-0">
        <thead class="border-top border-bottom">
          <tr>
            <% contests.column_names.each do |column_name| %>
              <% next if ['in_24_hours', 'status'].include? column_name %>
              <% next if ['hacker_earth', 'a2oj'].include?(site_class) && type.eql?('future') && column_name.eql?('before_end') %>
              <% next if site_class.eql?('hacker_earth') && type.eql?('running') && column_name.eql?('start_time') %>
              <% next if site_class.eql?('hacker_earth') && column_name.eql?('duration') %>
              <% next if site_class.eql?('a2oj') && type.eql?('running') && column_name.eql?('before_start') %>
              
              <th scope="col">
                <%= column_name.tr('_', ' ').capitalize %>
              </th>
            <% end %>
          </tr>
        </thead>

        <tbody>
          <% contests.each do |contest| %>
            <tr class="<%= 'in-24-hours' if type == 'future' && contest[:in_24_hours] == 'Yes' %>">
              <% contests.column_names.each do |column_name| %>
                <% next if ['in_24_hours', 'status'].include? column_name %>
                <% next if ['hacker_earth', 'a2oj'].include?(site_class) && type.eql?('future') && column_name.eql?('before_end') %>
                <% next if site_class.eql?('hacker_earth') && type.eql?('running') && column_name.eql?('start_time') %>
                <% next if site_class.eql?('hacker_earth') && column_name.eql?('duration') %>
                <% next if site_class.eql?('a2oj') && type.eql?('running') && column_name.eql?('before_start') %>
                
                <td>
                  <%= raw contest[column_name] %>
                </td>
              <% end %>
            </tr>
          <% end %>
        </tbody>
      </table>
    </div>
  <% end %>
</div>
